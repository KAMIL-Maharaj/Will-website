@{
    ViewBag.Title = "Share Your Testimony";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <style>
        html, body { 
            height: 100%; 
            margin: 0; 
            padding: 0; 
            font-family: 'Poppins', Arial, sans-serif; 
        }

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('../images/jesus10.png') center center no-repeat fixed;
    background-size: contain; /* ensures the whole image is visible */
    background-color: #000; /* fallback for empty spaces */
    color: #fff;
    min-height: 100vh;
    overflow-y: auto;
}

        body::before { 
            content: ""; 
            position: fixed; 
            top:0; left:0; right:0; bottom:0; 
            background: rgba(0,0,0,0.55); 
            z-index: 0; 
        }

        .create-page-container { 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            min-height: 75vh; 
            padding: 1rem; 
            position: relative; 
            z-index: 1; 
        }

        .create-testimony-form { 
            width: 100%; 
            max-width: 600px; 
            padding: 2rem; 
            background: rgba(255,255,255,0.97); 
            border-radius: 0.75rem; 
            box-shadow: 0 8px 24px rgba(0,0,0,0.25); 
            backdrop-filter: blur(10px); 
            font-size: 1rem; 
        }

        .create-testimony-form h2 { 
            text-align: center; 
            font-size: 1.8rem; 
            font-weight: 800; 
            color: #2c3e50; 
            margin-bottom: 1.5rem; 
        }

        .form-group { 
            margin-bottom: 1.25rem; 
        }

        .form-group label { 
            display: block; 
            font-weight: 600; 
            margin-bottom: 0.5rem; 
            color: #34495e; 
            font-size: 1rem; 
        }

        .form-group input[type="text"], 
        .form-group textarea, 
        .form-group input[type="file"] { 
            width: 100%; 
            padding: 0.75rem 1rem; 
            font-size: 1rem; 
            border: 1px solid #d1d1d1; 
            border-radius: 0.5rem; 
            outline: none; 
            transition: all 0.3s ease; 
            background: #fff; 
        }

        .form-group input:focus, .form-group textarea:focus { 
            border-color: #5c8df6; 
            box-shadow: 0 0 5px rgba(92,141,246,0.35); 
        }

        .form-group textarea { 
            resize: vertical; 
            min-height: 150px; 
        }

        .name-option-group { 
            display: flex; 
            gap: 1rem; 
            margin-top: 0.5rem; 
        }

        .name-option-group input[type="radio"] { 
            display: none; 
        }

        .name-option-group label { 
            flex: 1; 
            text-align: center; 
            padding: 0.6rem 0; 
            border: 1px solid #5c8df6; 
            border-radius: 0.5rem; 
            cursor: pointer; 
            background: #f0f4ff; 
            font-size: 1rem; 
        }

        .name-option-group input[type="radio"]:checked + label { 
            background: #5c8df6; 
            color: #fff; 
            font-weight: 700; 
        }

        #customNameField { 
            display: none; 
            margin-top: 0.75rem; 
        }

        .btn-submit { 
            display: block; 
            width: 100%; 
            padding: 0.85rem; 
            font-size: 1rem; 
            font-weight: 700; 
            color: #fff; 
            background: linear-gradient(to right, #5c8df6, #6b60ec); 
            border: none; 
            border-radius: 0.5rem; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            text-transform: uppercase; 
        }

        .btn-submit:hover { 
            background: linear-gradient(to right, #4a7cf0, #5849de); 
            transform: translateY(-2px); 
            box-shadow: 0 8px 20px rgba(0,0,0,0.25); 
        }

        .btn-submit:active { 
            transform: scale(0.97); 
        }
    </style>
}

<div class="create-page-container">
    <div class="create-testimony-form">
        <h2>Share Your Testimony</h2>

        <form asp-controller="Testimonies" asp-action="Create" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="Title">Title</label>
                <input id="Title" name="Title" type="text" required placeholder="Give your testimony a title" />
            </div>

            <div class="form-group">
                <label>Who should see your name?</label>
                <div class="name-option-group">
                    <input type="radio" id="anonymous" name="NameOption" value="Anonymous" checked />
                    <label for="anonymous">Anonymous</label>
                    <input type="radio" id="customName" name="NameOption" value="Custom" />
                    <label for="customName">Use My Name</label>
                </div>

                <div class="form-group" id="customNameField">
                    <label for="CustomName">Enter Your Name</label>
                    <input id="CustomName" name="CustomName" type="text" placeholder="Your Name" />
                </div>
            </div>

            <div class="form-group">
                <label for="ImageUpload">Upload Image (optional)</label>
                <input id="ImageUpload" name="ImageUpload" type="file" accept="image/*" />
            </div>

            <div class="form-group">
                <label for="Description">Description</label>
                <textarea id="Description" name="Description" required placeholder="Write about your experience, transformation, or message..."></textarea>
            </div>

            <button type="submit" class="btn-submit">Submit Testimony</button>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        const anonymousRadio = document.getElementById("anonymous");
        const customRadio = document.getElementById("customName");
        const customField = document.getElementById("customNameField");

        function toggleNameField() {
            customField.style.display = customRadio.checked ? "block" : "none";
        }

        anonymousRadio.addEventListener("change", toggleNameField);
        customRadio.addEventListener("change", toggleNameField);
        toggleNameField();
    </script>
}
