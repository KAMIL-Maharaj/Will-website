@model List<Alabaster.Models.Volunteer>

@{
    ViewData["Title"] = "Manage Volunteers";
}

<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('../images/jesus10.png') center center no-repeat fixed;
    background-size: contain; /* ensures the whole image is visible */
    background-color: #000; /* fallback for empty spaces */
    color: #fff;
    min-height: 100vh;
    overflow-y: auto;
}

h2 {
    text-align: center;
    margin: 1.5rem 0;
    font-size: 1.6rem;
    font-weight: 700;
    color: #2c3e50;
    text-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.event-select {
    margin-bottom: 1.5rem;
    text-align: center;
}

.event-select select {
    padding: 8px 12px;
    font-size: 0.9rem;
    border-radius: 0.4rem;
    border: 1px solid #ccc;
    background: #fff;
    color: #2c3e50;
    min-width: 200px;
    cursor: pointer;
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 0.4rem;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

table thead {
    background: #ffb400;
    color: #111;
    font-size: 0.85rem;
    text-transform: uppercase;
}

table tbody tr {
    transition: background 0.2s ease;
}

table tbody tr:hover {
    background: rgba(255, 180, 0, 0.15);
}

table th, table td {
    padding: 12px 15px;
    text-align: left;
}

.no-volunteers {
    text-align: center;
    margin-top: 20px;
    font-weight: 700;
    padding: 10px;
    color: #2c3e50;
}
</style>

<div>
    <h2>Manage Volunteers</h2>

    <div class="event-select">
        <form method="get" asp-action="ManageVolunteers">
            <select name="eventId" onchange="this.form.submit()">
                <option value="">-- Select Event --</option>
                @foreach (var evt in (List<Alabaster.Models.UpcomingEvent>)ViewBag.Events)
                {
                    <option value="@evt.Id" selected="@(ViewBag.SelectedEventId == evt.Id ? "selected" : null)">
                        @evt.Name (@evt.Date)
                    </option>
                }
            </select>
        </form>
    </div>

    @if (Model != null && Model.Any())
    {
        <div class="table-responsive px-3">
            <table class="table table-bordered align-middle">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>ID Number</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Notes</th>
                        <th>Volunteers</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var vol in Model)
                    {
                        <tr>
                            <td>@vol.Name</td>
                            <td>@vol.IdNumber</td>
                            <td>@vol.Email</td>
                            <td>@vol.Phone</td>
                            <td>@vol.Notes</td>
                            <td>@vol.NumberOfVolunteers</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else if (ViewBag.SelectedEventId != null)
    {
        <div class="no-volunteers">No volunteers registered for this event yet.</div>
    }
</div>
